<?xml version="1.0"?>
<ruleset name="Mockito test code" xmlns="http://pmd.sf.net/ruleset/1.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://pmd.sf.net/ruleset/1.0.0 http://pmd.sf.net/ruleset_xml_schema.xsd"
	xsi:noNamespaceSchemaLocation="http://pmd.sf.net/ruleset_xml_schema.xsd">

	<rule name="MissingFailInExceptionTestingCode"
		message="Don't miss fail() in test code that asserts exceptions"
		class="net.sourceforge.pmd.rules.XPathRule">

		<properties>
			<property name="xpath">
				<value>
					<![CDATA[
            			//TryStatement/Block/BlockStatement[position()=last() and Statement//PrimaryPrefix/Name[@Image!='fail']]
        			]]>
				</value>
			</property>
		</properties>
		<example>
			<![CDATA[
 				try {
 					//code
					fail() // - don't miss that
				} catch (Exception e) {
					//some assertion code if needed
				}					
			]]>
		</example>

	</rule>

</ruleset>